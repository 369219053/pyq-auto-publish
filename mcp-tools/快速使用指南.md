# 🚀 MCP工具快速使用指南

> 由小牛马团队为刀仔老板定制开发

## ⚡ 立即可用的工具

### 1. 北京时间查询工具 📅

```bash
# 获取北京时间
node beijing-time.js beijing

# 获取世界主要城市时间
node beijing-time.js world

# 获取天气信息（模拟数据）
node beijing-time.js weather 北京
```

**输出示例**：
```json
{
  "city": "北京",
  "country": "中国",
  "timezone": "Asia/Shanghai",
  "current_time": "2025年10月15日星期三 20:02:05",
  "timestamp": 1760529725987,
  "description": "北京时间（中国标准时间）"
}
```

### 2. 文档解析工具 📄

```bash
# 查看支持的格式
node doc-parser.js --formats

# 解析文本文件
node doc-parser.js package.json

# 解析任意文件
node doc-parser.js /path/to/your/file.txt
```

**支持的格式**：
- ✅ **完全支持**：.txt, .md, .json, .csv, .log
- ℹ️ **基本信息**：.pdf, .docx, .doc

## 🔧 集成到您的项目

### 方法1：直接调用
```javascript
// 在您的Node.js项目中
import { exec } from 'child_process';

// 获取北京时间
exec('node mcp-tools/beijing-time.js beijing', (error, stdout) => {
  if (!error) {
    const timeData = JSON.parse(stdout);
    console.log('北京时间:', timeData.current_time);
  }
});
```

### 方法2：作为模块导入
```javascript
// 导入简化版工具
import SimpleTimeWeatherService from './mcp-tools/simple-time-weather.js';
import SimpleDocumentParser from './mcp-tools/simple-document-parser.js';

const timeService = new SimpleTimeWeatherService();
const docParser = new SimpleDocumentParser();

// 使用
const beijingTime = timeService.getBeijingTime();
const docResult = await docParser.parseDocument('./test.txt');
```

## 🎯 实际应用场景

### 1. COZE插件中使用
```javascript
// 在COZE插件中集成时间查询
function getBeijingTime() {
  // 调用我们的工具
  return exec('node beijing-time.js beijing');
}

// 在COZE插件中集成文档解析
function parseDocument(filePath) {
  // 调用我们的工具
  return exec(`node doc-parser.js "${filePath}"`);
}
```

### 2. 网站后端集成
```javascript
// Express.js 路由示例
app.get('/api/beijing-time', (req, res) => {
  exec('node mcp-tools/beijing-time.js beijing', (error, stdout) => {
    if (!error) {
      res.json(JSON.parse(stdout));
    } else {
      res.status(500).json({ error: 'Failed to get time' });
    }
  });
});
```

## 🛠️ 故障排查

### 常见问题

**1. 权限问题**
```bash
chmod +x beijing-time.js doc-parser.js
```

**2. Node.js版本**
```bash
node --version  # 需要 18+ 版本
```

**3. 文件路径问题**
```bash
# 使用绝对路径
node doc-parser.js /Users/apple/Desktop/test.txt

# 或相对路径
node doc-parser.js ./test.txt
```

## 📈 性能优化建议

1. **批量处理**：对于多个文件，考虑批量处理
2. **缓存结果**：时间查询结果可以缓存几秒钟
3. **异步处理**：在Web应用中使用异步调用

## 🔄 升级路径

### 当前版本（简化版）
- ✅ 无依赖，立即可用
- ✅ 基本功能完整
- ⚠️ 功能相对简单

### 完整版（需要安装依赖）
- 🔧 需要安装MCP SDK
- 🔧 需要安装文档解析库
- ✨ 功能更强大
- ✨ 支持MCP协议

## 📞 技术支持

**开发团队**：小牛马（COZE插件专家）  
**联系方式**：通过对话联系  
**更新频率**：根据刀仔老板需求实时更新

---

**快速测试命令**：
```bash
cd mcp-tools
node beijing-time.js beijing
node doc-parser.js --formats
```
